{"ast":null,"code":"import _classCallCheck from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/src/PopularFilms.js\";\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { getPopularMovies } from './actions/movies';\nimport ImageMeasurer from \"./MasonryProvider\";\nimport PaginationControlled from \"./ControledPagination\";\n\nvar PopularFilms =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PopularFilms, _Component);\n\n  function PopularFilms() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PopularFilms);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PopularFilms)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onPageChange = function (pageNumber) {\n      var getPopularMovies = _this.props.getPopularMovies;\n      getPopularMovies(pageNumber);\n    };\n\n    return _this;\n  }\n\n  _createClass(PopularFilms, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          getPopularMovies = _this$props.getPopularMovies,\n          activePagePopular = _this$props.activePagePopular;\n      alert(activePagePopular);\n      getPopularMovies(activePagePopular);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.dir({\n        totalMovies: totalMovies\n      });\n      var _this$props2 = this.props,\n          moviesAreLoading = _this$props2.moviesAreLoading,\n          movies = _this$props2.movies,\n          totalMovies = _this$props2.totalMovies,\n          activePagePopular = _this$props2.activePagePopular;\n      var pagination = {\n        activePage: activePagePopular,\n        onPageChange: this.onPageChange,\n        totalPages: Math.floor(totalMovies / 20)\n      };\n      return [React.createElement(ImageMeasurer, {\n        list: movies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(PaginationControlled, Object.assign({}, pagination, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }))];\n    }\n  }]);\n\n  return PopularFilms;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movies.movies,\n    moviesAreLoading: state.movies.moviesAreLoading,\n    totalMovies: state.movies.totalMovies,\n    activePagePopular: state.movies.activePagePopular\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getPopularMovies: getPopularMovies\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopularFilms);","map":{"version":3,"sources":["/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/src/PopularFilms.js"],"names":["React","Component","bindActionCreators","connect","getPopularMovies","ImageMeasurer","PaginationControlled","PopularFilms","onPageChange","pageNumber","props","activePagePopular","alert","console","dir","totalMovies","moviesAreLoading","movies","pagination","activePage","totalPages","Math","floor","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,aAAP,MAA0B,mBAA1B;AACA,OAAOC,oBAAP,MAAiC,uBAAjC;;IAGMC,Y;;;;;;;;;;;;;;;;;;UAEFC,Y,GAAe,UAACC,UAAD,EAAgB;AAAA,UAErBL,gBAFqB,GAEA,MAAKM,KAFL,CAErBN,gBAFqB;AAI3BA,MAAAA,gBAAgB,CAACK,UAAD,CAAhB;AACH,K;;;;;;;wCAEkB;AAAA,wBAE+B,KAAKC,KAFpC;AAAA,UAETN,gBAFS,eAETA,gBAFS;AAAA,UAESO,iBAFT,eAESA,iBAFT;AAGnBC,MAAAA,KAAK,CAACD,iBAAD,CAAL;AACIP,MAAAA,gBAAgB,CAACO,iBAAD,CAAhB;AACH;;;6BAEQ;AACLE,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACC,QAAAA,WAAW,EAAEA;AAAd,OAAZ;AADK,yBAE4D,KAAKL,KAFjE;AAAA,UAEAM,gBAFA,gBAEAA,gBAFA;AAAA,UAEkBC,MAFlB,gBAEkBA,MAFlB;AAAA,UAE0BF,WAF1B,gBAE0BA,WAF1B;AAAA,UAEuCJ,iBAFvC,gBAEuCA,iBAFvC;AAGL,UAAIO,UAAU,GAAG;AAACC,QAAAA,UAAU,EAAER,iBAAb;AAAgCH,QAAAA,YAAY,EAAE,KAAKA,YAAnD;AAAiEY,QAAAA,UAAU,EAAEC,IAAI,CAACC,KAAL,CAAWP,WAAW,GAAG,EAAzB;AAA7E,OAAjB;AACA,aAAO,CACH,oBAAE,aAAF;AAAgB,QAAA,IAAI,EAAEE,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADG,EAEH,oBAAE,oBAAF,oBAA2BC,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFG,CAAP;AAIH;;;;EAxBsBjB,S;;AA2B3B,IAAMsB,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACHP,IAAAA,MAAM,EAACO,KAAK,CAACP,MAAN,CAAaA,MADjB;AAEHD,IAAAA,gBAAgB,EAACQ,KAAK,CAACP,MAAN,CAAaD,gBAF3B;AAGHD,IAAAA,WAAW,EAACS,KAAK,CAACP,MAAN,CAAaF,WAHtB;AAIHJ,IAAAA,iBAAiB,EAACa,KAAK,CAACP,MAAN,CAAaN;AAJ5B,GAAP;AAMH,CAPD;;AASA,IAAMc,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAIxB,kBAAkB,CAAC;AACtDE,IAAAA,gBAAgB,EAAhBA;AADsD,GAAD,EAEtDsB,QAFsD,CAAtB;AAAA,CAAnC;;AAIA,eAAevB,OAAO,CAACoB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6ClB,YAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { getPopularMovies } from './actions/movies';\nimport ImageMeasurer from \"./MasonryProvider\";\nimport PaginationControlled from \"./ControledPagination\";\n\n\nclass PopularFilms extends Component {\n\n    onPageChange = (pageNumber) => {\n\n        let { getPopularMovies } = this.props;\n\n        getPopularMovies(pageNumber);\n    }\n\n    componentDidMount(){\n\n        let { getPopularMovies, activePagePopular } = this.props\n    alert(activePagePopular)\n        getPopularMovies(activePagePopular);\n    }\n\n    render() {\n        console.dir({totalMovies: totalMovies})\n        let {moviesAreLoading, movies, totalMovies, activePagePopular} = this.props\n        let pagination = {activePage: activePagePopular, onPageChange: this.onPageChange, totalPages: Math.floor(totalMovies / 20)}\n        return [\n            < ImageMeasurer list={movies} / >,\n            < PaginationControlled {...pagination} / >\n        ]\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        movies:state.movies.movies,\n        moviesAreLoading:state.movies.moviesAreLoading,\n        totalMovies:state.movies.totalMovies,\n        activePagePopular:state.movies.activePagePopular\n    }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getPopularMovies\n}, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopularFilms);"]},"metadata":{},"sourceType":"module"}