{"ast":null,"code":"import _classCallCheck from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/src/Watchlist.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { removeFromWatchlist } from './actions/watchlist';\nimport ImageMeasurer from \"./MasonryProvider\";\nimport { withRouter } from 'react-router-dom';\nimport ReactResizeDetector from 'react-resize-detector';\n\nvar Watchlist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Watchlist, _Component);\n\n  _createClass(Watchlist, [{\n    key: \"doWatchlist\",\n    value: function doWatchlist(movie) {\n      var dispatch = this.props.dispatch;\n      return dispatch(removeFromWatchlist(movie));\n    }\n  }]);\n\n  function Watchlist(props) {\n    var _this;\n\n    _classCallCheck(this, Watchlist);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Watchlist).call(this, props));\n\n    _this.calculateLayout = function (width) {\n      _this.setState({\n        width: width\n      });\n    };\n\n    _this.state = {\n      width: 0\n    };\n    return _this;\n  }\n\n  _createClass(Watchlist, [{\n    key: \"render\",\n    value: function render() {\n      var watchlistMovies = this.props.watchlistMovies;\n      var result = watchlistMovies.map(function (movie, index) {\n        return index % 4 === 0 ? watchlistMovies.slice(index, index + 4) : null;\n      }).filter(function (movie) {\n        return movie != null;\n      });\n\n      var reducer = function reducer(a, b) {\n        return a.concat(b);\n      };\n\n      var parsed = result.reduce(reducer, []);\n      return React.createElement(ReactResizeDetector, {\n        handleWidth: true,\n        onResize: this.calculateLayout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(ImageMeasurer, {\n        width: this.state.width,\n        key: \"ImageMeasurerPopular\",\n        list: parsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Watchlist;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    watchlistMovies: state.movies.watchlistMovies\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Watchlist));","map":{"version":3,"sources":["/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/src/Watchlist.js"],"names":["React","Component","connect","removeFromWatchlist","ImageMeasurer","withRouter","ReactResizeDetector","Watchlist","movie","dispatch","props","calculateLayout","width","setState","state","watchlistMovies","result","map","index","slice","filter","reducer","a","b","concat","parsed","reduce","mapStateToProps","movies"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,mBAAT,QAAoC,qBAApC;AACA,OAAOC,aAAP,MAA0B,mBAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;;IAGMC,S;;;;;;;gCAEUC,K,EAAO;AAAA,UAETC,QAFS,GAEI,KAAKC,KAFT,CAETD,QAFS;AAGf,aAAOA,QAAQ,CAACN,mBAAmB,CAACK,KAAD,CAApB,CAAf;AACH;;;AAED,qBAAYE,KAAZ,EAAmB;AAAA;;AAAA;;AACf,mFAAMA,KAAN;;AADe,UAMnBC,eANmB,GAMD,UAAAC,KAAK,EAAI;AAEvB,YAAKC,QAAL,CAAc;AAACD,QAAAA,KAAK,EAAEA;AAAR,OAAd;AACH,KATkB;;AAGf,UAAKE,KAAL,GAAa;AAACF,MAAAA,KAAK,EAAE;AAAR,KAAb;AAHe;AAIlB;;;;6BAOQ;AAAA,UAECG,eAFD,GAEqB,KAAKL,KAF1B,CAECK,eAFD;AAIL,UAAIC,MAAM,GAAGD,eAAe,CAACE,GAAhB,CAAoB,UAACT,KAAD,EAAQU,KAAR,EAAkB;AAC/C,eAAOA,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkBH,eAAe,CAACI,KAAhB,CAAsBD,KAAtB,EAA6BA,KAAK,GAAG,CAArC,CAAlB,GAA4D,IAAnE;AACH,OAFY,EAEVE,MAFU,CAEH,UAAAZ,KAAK;AAAA,eAAIA,KAAK,IAAI,IAAb;AAAA,OAFF,CAAb;;AAKA,UAAMa,OAAO,GAAG,SAAVA,OAAU,CAASC,CAAT,EAAYC,CAAZ,EAAe;AAAE,eAAOD,CAAC,CAACE,MAAF,CAASD,CAAT,CAAP;AAAoB,OAArD;;AACA,UAAME,MAAM,GAAGT,MAAM,CAACU,MAAP,CAAcL,OAAd,EAAuB,EAAvB,CAAf;AAEA,aACI,oBAAC,mBAAD;AAAqB,QAAA,WAAW,MAAhC;AAAiC,QAAA,QAAQ,EAAE,KAAKV,eAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAE,aAAF;AAAgB,QAAA,KAAK,EAAE,KAAKG,KAAL,CAAWF,KAAlC;AAAyC,QAAA,GAAG,EAAC,sBAA7C;AAAoE,QAAA,IAAI,EAAEa,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADJ;AAKH;;;;EApCmBxB,S;;AAuCxB,IAAM0B,eAAe,GAAG,SAAlBA,eAAkB,CAACb,KAAD,EAAW;AAC/B,SAAO;AACHC,IAAAA,eAAe,EAACD,KAAK,CAACc,MAAN,CAAab;AAD1B,GAAP;AAGH,CAJD;;AAMA,eAAeV,UAAU,CAACH,OAAO,CAACyB,eAAD,CAAP,CAAyBpB,SAAzB,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { removeFromWatchlist } from './actions/watchlist';\nimport ImageMeasurer from \"./MasonryProvider\";\nimport { withRouter } from 'react-router-dom'\nimport ReactResizeDetector from 'react-resize-detector';\n\n\nclass Watchlist extends Component {\n\n    doWatchlist(movie) {\n\n        let { dispatch } = this.props;\n        return dispatch(removeFromWatchlist(movie));\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {width: 0}\n    }\n\n    calculateLayout = width => {\n\n        this.setState({width: width})\n    }\n\n    render() {\n\n        let { watchlistMovies } = this.props;\n\n        let result = watchlistMovies.map((movie, index) => {\n            return index % 4 === 0 ? watchlistMovies.slice(index, index + 4) : null;\n        }).filter(movie => movie != null);\n\n\n        const reducer = function(a, b) { return a.concat(b);}\n        const parsed = result.reduce(reducer, []);\n\n        return (\n            <ReactResizeDetector handleWidth onResize={this.calculateLayout}>\n            < ImageMeasurer width={this.state.width} key=\"ImageMeasurerPopular\" list={parsed} / >\n            </ReactResizeDetector>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        watchlistMovies:state.movies.watchlistMovies\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(Watchlist));"]},"metadata":{},"sourceType":"module"}