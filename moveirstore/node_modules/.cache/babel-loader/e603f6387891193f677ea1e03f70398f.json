{"ast":null,"code":"import _toConsumableArray from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/src/LatestFilms.js\";\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { getLatestMovies } from './actions/movies';\nimport PaginationControlled from \"./ControledPagination\";\nimport ImageMeasurer from \"./MasonryProvider\";\nimport { withRouter } from 'react-router-dom';\n\nvar LatestFilms =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LatestFilms, _Component);\n\n  function LatestFilms(props) {\n    var _this;\n\n    _classCallCheck(this, LatestFilms);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LatestFilms).call(this, props));\n    _this.onPageChange = _this.onPageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LatestFilms, [{\n    key: \"onPageChange\",\n    value: function onPageChange(event) {\n      try {\n        console.log(_toConsumableArray(event.target.attributes));\n\n        if (_toConsumableArray(event.target.attributes).find('value')) {\n          console.log('yeah!!!!');\n        }\n\n        var page = event.target.getAttribute('value');\n\n        if (page === NaN) {\n          return;\n        }\n\n        var _getLatestMovies = this.props.getLatestMovies;\n\n        _getLatestMovies(page);\n      } catch (_unused) {\n        console.log('LatestFilms onPageChange');\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          getLatestMovies = _this$props.getLatestMovies,\n          activePageLatest = _this$props.activePageLatest;\n      getLatestMovies(activePageLatest);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          moviesAreLoading = _this$props2.moviesAreLoading,\n          movies = _this$props2.movies,\n          totalMovies = _this$props2.totalMovies,\n          activePagePopular = _this$props2.activePagePopular;\n\n      var reducer = function reducer(a, b) {\n        return a.concat(b);\n      };\n\n      var parsed = movies.reduce(reducer, []);\n      var pagination = {\n        activePage: activePagePopular,\n        onPageChange: this.onPageChange,\n        totalPages: Math.floor(totalMovies / 20)\n      };\n      return [React.createElement(ImageMeasurer, {\n        key: \"ImageMeasurerLatest\",\n        list: parsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(PaginationControlled, Object.assign({\n        key: \"PaginationControlledLatest\"\n      }, pagination, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }))];\n    }\n  }]);\n\n  return LatestFilms;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movies.movies,\n    moviesAreLoading: state.movies.moviesAreLoading,\n    totalMovies: state.movies.totalMovies,\n    activePageLatest: state.movies.activePageLatest\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getLatestMovies: getLatestMovies\n  }, dispatch);\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LatestFilms));","map":{"version":3,"sources":["/Users/allar-alexeyalexandrovich/20.12.18/moveirstore/src/LatestFilms.js"],"names":["React","Component","bindActionCreators","connect","getLatestMovies","PaginationControlled","ImageMeasurer","withRouter","LatestFilms","props","onPageChange","bind","event","console","log","target","attributes","find","page","getAttribute","NaN","activePageLatest","moviesAreLoading","movies","totalMovies","activePagePopular","reducer","a","b","concat","parsed","reduce","pagination","activePage","totalPages","Math","floor","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { getLatestMovies } from './actions/movies';\nimport PaginationControlled from \"./ControledPagination\";\nimport ImageMeasurer from \"./MasonryProvider\";\nimport { withRouter } from 'react-router-dom'\n\nclass LatestFilms extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.onPageChange = this.onPageChange.bind(this);\n    }\n\n    onPageChange(event) {\n\n        try {\n\n            console.log([...event.target.attributes])\n            if ([...event.target.attributes].find('value')) {\n                console.log('yeah!!!!')\n            }\n\n            let page = event.target.getAttribute('value')\n\n\n\n            if (page === NaN) {\n                return\n            }\n            let {getLatestMovies} = this.props;\n            getLatestMovies(page);\n        } catch {\n            console.log('LatestFilms onPageChange')\n        }\n    }\n\n    componentDidMount(){\n\n        let { getLatestMovies, activePageLatest } = this.props;\n        getLatestMovies(activePageLatest);\n\n    }\n\n    render() {\n        let {moviesAreLoading, movies, totalMovies, activePagePopular} = this.props\n\n        const reducer = function(a, b) { return a.concat(b);}\n        const parsed = movies.reduce(reducer, []);\n        let pagination = {activePage: activePagePopular, onPageChange: this.onPageChange, totalPages: Math.floor(totalMovies / 20)}\n        return [\n            < ImageMeasurer key=\"ImageMeasurerLatest\" list={parsed} / >,\n            < PaginationControlled key=\"PaginationControlledLatest\" {...pagination} / >\n    ]\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        movies:state.movies.movies,\n        moviesAreLoading:state.movies.moviesAreLoading,\n        totalMovies:state.movies.totalMovies,\n        activePageLatest:state.movies.activePageLatest\n    }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getLatestMovies\n}, dispatch)\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LatestFilms));"]},"metadata":{},"sourceType":"module"}