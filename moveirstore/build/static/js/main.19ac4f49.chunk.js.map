{"version":3,"sources":["constants.js","actions/movies.js","SearchFlow.js","ControledPagination.js","MasonryProvider.js","LatestFilms.js","PopularFilms.js","actions/watchlist.js","Watchlist.js","MovieDetail.js","routes/index.js","MenuFlow.js","App.js","reducers/movies.js","reducers/index.js","index.js"],"names":["SET_POPULAR","SET_LATEST","SET_MOVIE","SET_SEARCH","CLEAR_SEARCH","MOVIES_ARE_LOADING","MOVIE_HAS_ERROR","MOVIE_IS_LOADING","SEARCH_IS_LOADING","ADD_TO_WATCHLIST","REMOVE_FROM_WATCHLIST","REMOVE_FROM_WATCHLIST_FROM_WATCHLIST","moviesAreLoading","type","constants","clearSearch","getGenres","axios","get","getPopular","page","getLatest","getSearch","query","doSearch","dispatch","movies","all","then","spread","genres","search","data","results","forEach","element","genresTitles","map","genre","index","genre_ids","includes","id","name","filter","push","title","rating","vote_average","src","poster_path","desc","overview","result","movie","slice","payload","catch","error","console","log","getMovie","movieId","movieInfo","inWatchlist","JSON","parse","localStorage","getItem","e","poster","message","getPopularMovies","popular","activePagePopular","totalMovies","total_results","getLatestMovies","latest","activePageLatest","SearchStandard","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","resetComponent","setState","isLoading","value","handleResultSelect","_ref","store","onInputChange","event","_this$props","target","toLowerCase","searchIsLoading","length","state","sorceArray","_this$props2","re","RegExp","_","escapeRegExp","parsed","reduce","a","b","concat","react_default","createElement","Grid","Column","width","Search","assign","loading","onResultSelect","onSearchChange","debounce","leading","item","description","image","price","test","Component","connect","pathname","router","location","watchlistMovies","bindActionCreators","PaginationControlled","handleInputChange","activePage","handlePaginationChange","_ref2","onPageChange","totalPages","p","padded","columns","verticalAlign","Pagination","nextProps","prevState","res","objectSpread","undefined","noCacheList","list","Math","random","keyMapper","cache","CellMeasurerCache","imageHeight","defaultWidth","fixedWidth","createMasonryCellPositionerProxy","createMasonryCellPositioner","cellMeasurerCache","columnCount","columnWidth","spacer","createCellPositionerConfig","workWithText","text","MasonryComponent","itemsWithSizes","setRef","cellPositioner","dist_es","cellCount","cellRenderer","parent","key","style","_itemsWithSizes$index","size","border","height","defaultHeight","Link","to","alt","objectFit","display","maxHeight","overflow","textOverflow","whiteSpace","paddingLeft","paddingRight","marginTop","marginBottom","font","color","Container","overflowX","Label","as","tag","Progress","percent","ref","Index","masonryRef","setMasonry","node","clearAll","clearCellPositions","images","nextState","nextContext","_this2","react_virtualized_image_measurer_lib","items","onError","_ref3","sizes","MasonryProvider_MasonryComponent","React","LatestFilms","calculateLayout","bind","assertThisInitialized","getAttribute","_unused","pagination","floor","esm","handleWidth","onResize","MasonryProvider","ControledPagination_PaginationControlled","withRouter","PopularFilms","remove","add","Watchlist","MovieDetail","doWatchlist","targetMovie","parseInt","match","params","movieIsLoading","movieHasError","genresColors","rating100","parseFloat","Image","float","left","Header","marginRight","basic","pointing","justifyContent","progress","backgroundColor","active","indicating","precision","Button","Group","positive","onClick","Or","routes","Switch","Redirect","exact","from","Route","path","component","MenuAttached","computer","Menu","attached","Dropdown","icon","simple","Item","position","indexOf","className","SearchFlow","Segment","Row","App","history","lib","MenuFlow","setItem","stringify","initialState","moviesReducer","arguments","action","newList","toConsumableArray","rootReducer","combineReducers","connectRouter","__webpack_require__","d","__webpack_exports__","createBrowserHistory","basename","process","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","routerMiddleware","ReactDOM","render","react_hot_loader","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.19ac4f49.chunk.js","sourcesContent":["export const SET_POPULAR = 'SET_POPULAR';\nexport const SET_LATEST = 'SET_LATEST';\nexport const SET_MOVIE = 'SET_MOVIE';\nexport const SET_SEARCH = 'SET_SEARCH';\nexport const CLEAR_SEARCH = 'CLEAR_SEARCH';\nexport const MOVIES_ARE_LOADING = 'MOVIES_ARE_LOADING';\nexport const MOVIE_HAS_ERROR = 'MOVIE_HAS_ERROR';\nexport const MOVIE_IS_LOADING = 'MOVIE_IS_LOADING';\nexport const SEARCH_IS_LOADING = 'SEARCH_IS_LOADING';\nexport const ADD_TO_WATCHLIST = 'ADD_TO_WATCHLIST';\nexport const REMOVE_FROM_WATCHLIST = 'REMOVE_FROM_WATCHLIST';\nexport const REMOVE_FROM_WATCHLIST_FROM_WATCHLIST = 'REMOVE_FROM_WATCHLIST_FROM_WATCHLIST';","import * as constants from '../constants';\nimport axios from 'axios';\n\nfunction setPopular(results) {\n  return {\n    type: constants.SET_POPULAR,\n    payload: results\n  }\n}\n\nfunction setLatest(results) {\n  return {\n    type: constants.SET_LATEST,\n    payload: results\n  }\n}\n\nfunction setMovie(results) {\n  return {\n    type: constants.SET_MOVIE,\n    payload: results\n  }\n}\n\nfunction moviesAreLoading() {\n  return {\n      type: constants.MOVIES_ARE_LOADING\n  };\n}\n\nfunction movieIsLoading() {\n  return {\n      type: constants.MOVIE_IS_LOADING\n  };\n}\n\nfunction movieHasError(results) {\n  return {\n    type: constants.MOVIE_HAS_ERROR,\n    payload: results\n  }\n}\n\nfunction setSearchResult(results) {\n  return {\n    type: constants.SET_SEARCH,\n    payload: results\n  }\n}\n\nfunction searchIsLoading() {\n  return {\n      type: constants.SEARCH_IS_LOADING\n  };\n}\n\nexport function clearSearch(){\n  return {\n    type: constants.CLEAR_SEARCH\n  };\n}\n\nfunction getGenres() {\n  return axios.get('https://api.themoviedb.org/3/genre/movie/list?api_key=79d36b7841b090ecd252b160c9f3d79d&language=en-US');\n}\n\nfunction getPopular(page) {\n  return axios.get('https://api.themoviedb.org/3/movie/popular?api_key=79d36b7841b090ecd252b160c9f3d79d&language=en-US&page='+page);\n}\n\nfunction getLatest(page) {\n  return axios.get('https://api.themoviedb.org/3/movie/now_playing?api_key=79d36b7841b090ecd252b160c9f3d79d&language=en-US&page='+page);\n}\n\nfunction getSearch(query) {\n  return axios.get('https://api.themoviedb.org/3/search/movie?api_key=79d36b7841b090ecd252b160c9f3d79d&language=en-US&query='+query+'&page=1&include_adult=false');\n}\n\nexport function doSearch(query) {\n\n  return function(dispatch) {\n\n    dispatch(searchIsLoading());\n    \n    let movies = [];\n\n    axios.all([getGenres(), getSearch(query)])\n    .then(axios.spread(function (genres, search) {\n      \n      search.data.results.forEach(element => {\n        let genresTitles = genres.data.genres.map((genre, index) => {\n          return element.genre_ids.includes(genre.id) ? genre.name : null;\n        }).filter(genre => genre != null);\n\n        movies.push({'id':element.id, 'title' : element.title, 'rating': element.vote_average, 'genres': genresTitles, src: element.poster_path, desc: element.overview});\n      });\n\n      let result = movies.map((movie, index) => {\n        return index % 2 === 0 ? movies.slice(index, index + 2) : null;\n      }).filter(movie => movie != null);\n\n      return dispatch(setSearchResult(\n        result\n      ));\n\n    })).catch(function (error) {\n      console.log(error);\n    });\n  }\n}\n\nexport function getMovie(movieId) {\n\n  return function(dispatch) {\n\n    dispatch(movieIsLoading());\n    \n    axios.get('https://api.themoviedb.org/3/movie/'+movieId+'?api_key=79d36b7841b090ecd252b160c9f3d79d&language=en-US')\n    .then(function (movieInfo) {\n\n      let genresTitles = movieInfo.data.genres.map((genre, index) => {\n        return genre.name;\n      }).filter(genre => genre != null);\n\n      let inWatchlist = false;\n\n      JSON.parse(localStorage.getItem('watchlistMovies')).forEach(e => {\n\n        if (e.id === movieInfo.data.id){\n          inWatchlist = true ;\n        }\n      }); \n\n      return dispatch(setMovie(\n        {'id':movieInfo.data.id, 'title' : movieInfo.data.title, 'overview': movieInfo.data.overview, 'poster': movieInfo.data.poster_path, 'rating': movieInfo.data.vote_average, 'genres': genresTitles, 'inWatchlist': inWatchlist}\n      ));\n\n    }).catch(function (error) {\n      \n      console.log(error);\n      return dispatch(movieHasError(error.message));\n    });\n  }\n}\n\nexport function getPopularMovies(page) {\n\n  return function(dispatch) {\n\n    dispatch(moviesAreLoading());\n\n    let movies = [];\n\n    axios.all([getGenres(), getPopular(page)])\n    .then(axios.spread(function (genres, popular) {\n      \n      popular.data.results.forEach(element => {\n\n        let genresTitles = genres.data.genres.map((genre, index) => {\n          return element.genre_ids.includes(genre.id) ? genre.name : null;\n        }).filter(genre => genre != null);\n\n        let inWatchlist = false;\n\n        JSON.parse(localStorage.getItem('watchlistMovies')).forEach(e => {\n\n          if (e.id === element.id){\n            inWatchlist = true ;\n          }\n        }); \n\n        movies.push({'id':element.id, 'title' : element.title, 'poster': element.poster_path, 'rating': element.vote_average, 'genres': genresTitles, 'inWatchlist': inWatchlist}); \n      });\n\n      let result = movies.map((movie, index) => {\n        return index % 4 === 0 ? movies.slice(index, index + 4) : null;\n      }).filter(movie => movie != null);\n\n      return dispatch(setPopular(\n        {'activePagePopular':page,'totalMovies':popular.data.total_results, 'movies':result}\n      ));\n\n    })).catch(function (error) {\n      console.log(error);\n    });\n  }\n}\n\nexport function getLatestMovies(page) {\n  \n  return function(dispatch) {\n\n    dispatch(moviesAreLoading());\n\n    let movies = [];\n\n    axios.all([getGenres(), getLatest(page)])\n    .then(axios.spread(function (genres, latest) {\n\n      latest.data.results.forEach(element => {\n\n        let genresTitles = genres.data.genres.map((genre, index) => {\n          return element.genre_ids.includes(genre.id) ? genre.name : null;\n        }).filter(genre => genre != null);\n\n        let inWatchlist = false;\n\n        JSON.parse(localStorage.getItem('watchlistMovies')).forEach(e => {\n \n          if (e.id === element.id){\n            inWatchlist = true ;\n          }\n        }); \n\n        movies.push({'id':element.id, 'title' : element.title, 'poster': element.poster_path, 'rating': element.vote_average, 'genres': genresTitles, 'inWatchlist': inWatchlist}); \n      });\n\n      let result = movies.map((movie, index) => {\n        return index % 4 === 0 ? movies.slice(index, index + 4) : null;\n      }).filter(movie => movie != null);\n\n      return dispatch(setLatest(\n        {'activePageLatest':page,'totalMovies':latest.data.total_results, 'movies':result}\n      ));\n\n    })).catch(function (error) {\n      console.log(error);\n    });\n  }\n}\n","import _ from 'lodash'\nimport faker from 'faker'\nimport React, {Component} from 'react'\nimport {Search, Grid, Header, Segment} from 'semantic-ui-react'\nimport {doSearch, clearSearch} from './actions/movies';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport {store} from './index';\nimport {push } from 'react-router-redux';\n\nconst source = sorceArray => sorceArray.map(item => ({\n    title: item.title.slice(0, 30),\n    description: item.desc.slice(0, 70),\n    image: item !== null && item.src !== null  ? 'https://image.tmdb.org/t/p/w500'+item.src : 'https://cdn.sstatic.net/Sites/stackoverflow/img/404.svg',\n    price: \"Rating: \" + item.rating,\n    id: item.id,\n}))\n\n\nclass SearchStandard extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            value: '',\n            results: this.props.search,\n        }\n    }\n\n    componentWillMount() {\n        this.resetComponent()\n    }\n\n    resetComponent = () => this.setState({isLoading: false, results: [], value: ''})\n\n    handleResultSelect = (e, {result}) => {\n\n        let {clearSearch} = this.props;\n        this.setState({value: result.title});\n        this.resetComponent();\n        clearSearch()\n        store.dispatch(push('/movie/'+result.id+'/'))\n    }\n\n\n    onInputChange = (event) => {\n\n        let {doSearch, clearSearch} = this.props;\n        let query = event.target.value.toLowerCase();\n        this.setState({\n            value: query,\n            isLoading: this.props.searchIsLoading,\n        }, () => {\n            if (query && query.length > 1) {\n                doSearch(query);\n            } else {\n                clearSearch();\n            }\n        })\n    }\n\n\n    render() {\n        const {value} = this.state\n        let {searchIsLoading, search} = this.props;\n\n        const re = new RegExp(_.escapeRegExp(value), 'i')\n        const isMatch = result => re.test(result.title)\n\n        const reducer = function(a, b) { return a.concat(b);}\n        const parsed = search.reduce(reducer, []);\n\n        return (\n            < Grid>\n                < Grid.Column\n                    width={6}>\n                    < Search\n                        loading={searchIsLoading}\n                        onResultSelect={this.handleResultSelect}\n                        onSearchChange={_.debounce(this.onInputChange, 500, {leading: true})}\n                        results={ _.filter(source(parsed), isMatch)}\n                        value={value}\n                        {...\n                            this.props\n                        }\n                    />\n                    <\n                    /Grid.Column>\n\n                    <\n                    /Grid>\n                    )\n                    }\n                    }\n\n                    const mapStateToProps = (state) => {\n\n                        return {\n                            search:state.movies.search,\n                            searchIsLoading:state.movies.searchIsLoading,\n                            pathname: state.router.location.pathname,\n                            watchlistMovies:state.movies.watchlistMovies\n                        }\n                    }\n\n                    const mapDispatchToProps = dispatch => bindActionCreators({\n                    doSearch,\n                    clearSearch\n                }, dispatch)\n                    export default connect(mapStateToProps, mapDispatchToProps)(SearchStandard);\n","import React, {Component} from 'react'\nimport {Grid, Pagination} from 'semantic-ui-react'\n\nexport default class PaginationControlled extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = { activePage: 1, onPageChange: () => {}, totalPages: 1};\n    }\n\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n            let res = {...prevState, activePage: nextProps.activePage, onPageChange: nextProps.onPageChange, totalPages: nextProps.totalPages}\n            res.activePage = res.activePage === undefined ? 1 : res.activePage\n            res.onPageChange = res.onPageChange === null ? () => {} : res.onPageChange\n            res.totalPages = res.totalPages ===undefined ? 1 : res.totalPages\n            return res;\n    }\n\n    handleInputChange = (e, {value}) => this.setState({activePage: value})\n\n    handlePaginationChange = (e, {activePage}) => this.setState({activePage})\n\n    render() {\n        const p = this.state;\n\n        return (\n            < Grid padded='vertically'\n        columns = {3}\n        verticalAlign = 'middle'>\n            < Grid.Column />\n        < Grid.Column >\n        < Pagination\n        activePage = {p.activePage}\n        onPageChange = {p.onPageChange}\n        totalPages = {p.totalPages}\n        />\n        < /Grid.Column>\n        < Grid.Column />\n        < /Grid>\n    )\n    }\n}","import React from \"react\";\nimport { render } from \"react-dom\";\nimport {\n    CellMeasurer,\n    CellMeasurerCache,\n    createMasonryCellPositioner,\n    Masonry\n} from \"react-virtualized\";\nimport ImageMeasurer from \"react-virtualized-image-measurer\";\nimport {Grid, Label, Icon, Container, Progress} from 'semantic-ui-react'\n\nimport {Link} from 'react-router-dom'\n\n// Array of images with captions\n//const list = [{image: 'http://...', title: 'Foo'}];\n\n// We need to make sure images are loaded from scratch every time for this demo\nconst noCacheList = list => list.map((item, index) => ({\n    title: index + \". \" + item.title,\n    image: item.image + (item.image ? \"?noCache=\" + Math.random() : \"\")\n}));\n\nconst keyMapper = (item, index) => item.image || index;\n\nconst columnWidth = 250;\nconst defaultHeight = 700;\nconst defaultWidth = columnWidth;\nconst defaultSpacer = 30;\nconst imageHeight = 380;\n\n// Default sizes help Masonry decide how many images to batch-measure\nconst cache = new CellMeasurerCache({\n    imageHeight,\n    defaultWidth,\n    fixedWidth: true\n});\n\nconst createCellPositionerConfig = width => {\n    return {\n        cellMeasurerCache: cache,\n        columnCount: width < 1055 ? (width < 771 ? (width < 492 ? 1 : 2) : 3) : 4,\n        columnWidth,\n        spacer: defaultSpacer\n    }\n}\n\nconst createMasonryCellPositionerProxy = (width) => {\n    return createMasonryCellPositioner(createCellPositionerConfig(width))\n}\n\nconst workWithText = (text) => {\n    if (text === undefined) {\n        return \"\"\n    }\n\n    if (text === \"Science Fiction\") {\n        return \"Sci-Fy\";\n    }\n\n    if (text.length > 5) {\n        return text.slice(0, 5)\n    }\n\n    return text\n}\n\nconst MasonryComponent = ({ itemsWithSizes, setRef, width }) => {\n\n    const cellPositioner = createMasonryCellPositionerProxy(width);\n\n\n    const cellRenderer = ({ index, key, parent, style }) => {\n        const { item, size } = itemsWithSizes[index];\n        const height = imageHeight;\n        return (\n            <CellMeasurer\n                cache={cache}\n                index={index}\n                key={item.id}\n                parent={parent} >\n            <div style={{...style, ...{border: \"2px double grey\", height: defaultHeight-216}}}>\n                <Link to={\"/movie/\"+item.id} /*target={type === 'search'? '_blank' : null}*/>\n\n                {(\n        <img\n            src={item !== null && item.poster !== null  ? 'https://image.tmdb.org/t/p/w500'+item.poster : 'https://cdn.sstatic.net/Sites/stackoverflow/img/404.svg'}\n            alt={'No films'}\n            style={{\n            height: height,\n                width: columnWidth - 4,\n                objectFit: \"fill\",\n                display: \"block\"\n        }}\n            />\n        )}\n\n        <div style={{maxHeight: \"20px\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\", paddingLeft: \"10px\", paddingRight: \"10px\", marginTop: \"5px\", marginBottom: \"10px\", font: \"bold 130% serif\", color: \"#008080\"}}>{item.title}</div>\n                <Container>\n                    <div style={{paddingLeft: \"10px\", marginBottom: \"10px\", overflowX: \"scroll\", maxHeight: \"21px\",}}>\n                        {  item.genres[0] != undefined && <Label size=\"tiny\" as='a' tag>{workWithText(item.genres[0])}</Label>}\n                        {  item.genres[1] != undefined && <Label size=\"tiny\" as='a' color='red' tag>{workWithText(item.genres[1])}</Label>}\n                        {  item.genres[2] != undefined && <Label size=\"tiny\" as='a' color='teal' tag>{workWithText(item.genres[2])}</Label>}\n                    </div>\n                </Container>\n                <div style={{paddingLeft: \"10px\", paddingRight: \"10px\",}}>\n                <Progress color={(item.rating < 3.0 ? \"red\" : (item.rating < 6.0 ? \"yellow\" : \"green\"))} percent={item.rating * 10} size='small'>\n                    Rating\n                </Progress>\n                </div>\n                </Link>\n\n    </div>\n        </CellMeasurer>\n    );\n    };\n\n    return (\n        <Masonry\n    cellCount={itemsWithSizes.length}\n    cellMeasurerCache={cache}\n    cellPositioner={cellPositioner}\n    cellRenderer={cellRenderer}\n    height={2600}\n    width={width+50}\n    keyMapper={keyMapper}\n    ref={setRef}\n    />\n);\n};\n\nclass Index extends React.Component {\n\n    masonryRef = null;\n\n    constructor(props) {\n        super(props)\n\n        if (props.list != null && props.list.length > 0) {\n            cache.clearAll();\n           // cellPositioner.reset(cellPositionerConfig);\n\n            if (this.masonryRef != null) {\n                this.masonryRef.clearCellPositions();\n\n            }\n\n            this.state = {images: noCacheList(props.list)};\n        }\n    }\n\n    componentWillUpdate(nextProps, nextState, nextContext) {\n        cache.clearAll();\n       // cellPositioner.reset(cellPositionerConfig);\n        this.masonryRef.clearCellPositions();\n        this.state = {images: noCacheList(nextProps.list)};\n    }\n\n\n    setMasonry = node => (this.masonryRef = node);\n\n    render() {\n        return (\n                        <ImageMeasurer\n                            items={this.props.list}\n                            image={item => item.image}\n                            keyMapper={keyMapper}\n                            onError={(error, item, src) => {\n                                console.error(\n                                    \"Cannot load image\",\n                                    src,\n                                    \"for item\",\n                                    item,\n                                    \"error\",\n                                    error\n                                );\n                            }}\n                            defaultHeight={defaultHeight}\n                            defaultWidth={defaultWidth}\n                        >\n                            {({ itemsWithSizes, sizes }) => (\n                                <MasonryComponent\n                                    width={this.props.width}\n                                    setRef={this.setMasonry}\n                                    itemsWithSizes={itemsWithSizes}\n                                />\n                            )}\n                        </ImageMeasurer>\n                        );\n    }\n}\n\nexport default Index;","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { getLatestMovies } from './actions/movies';\nimport PaginationControlled from \"./ControledPagination\";\nimport ImageMeasurer from \"./MasonryProvider\";\nimport { withRouter } from 'react-router-dom'\nimport ReactResizeDetector from 'react-resize-detector';\n\nclass LatestFilms extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.onPageChange = this.onPageChange.bind(this);\n        this.state = {width: 0}\n    }\n\n    onPageChange(event) {\n\n        try {\n\n            let page = event.target.getAttribute('value')\n\n            let {getLatestMovies} = this.props;\n            getLatestMovies(page);\n        } catch {\n            console.error('LatestFilms onPageChange')\n        }\n    }\n\n    componentDidMount(){\n\n        let { getLatestMovies, activePageLatest } = this.props;\n        getLatestMovies(activePageLatest);\n\n    }\n\n    calculateLayout = width => {\n\n        this.setState({width: width})\n    }\n\n    render() {\n        let {moviesAreLoading, movies, totalMovies, activePagePopular} = this.props\n\n        const reducer = function(a, b) { return a.concat(b);}\n        const parsed = movies.reduce(reducer, []);\n        let pagination = {activePage: activePagePopular, onPageChange: this.onPageChange, totalPages: Math.floor(totalMovies / 20)}\n        return [\n            <ReactResizeDetector handleWidth onResize={this.calculateLayout}>\n            < ImageMeasurer width={this.state.width} key=\"ImageMeasurerLatest\" list={parsed} / >\n            </ReactResizeDetector>,\n            < PaginationControlled key=\"PaginationControlledLatest\" {...pagination} / >\n    ]\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        movies:state.movies.movies,\n        moviesAreLoading:state.movies.moviesAreLoading,\n        totalMovies:state.movies.totalMovies,\n        activePageLatest:state.movies.activePageLatest\n    }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getLatestMovies\n}, dispatch)\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LatestFilms));","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { getPopularMovies } from './actions/movies';\nimport ImageMeasurer from \"./MasonryProvider\";\nimport PaginationControlled from \"./ControledPagination\";\nimport {Grid} from \"semantic-ui-react/dist/commonjs/collections/Grid\";\nimport { withRouter } from 'react-router-dom'\nimport ReactResizeDetector from 'react-resize-detector';\n\nclass PopularFilms extends Component {\n\n    onPageChange = (event) => {\n\n        try {\n            let page = event.target.getAttribute('value')\n\n            let { getPopularMovies } = this.props;\n            getPopularMovies(page);\n        } catch {\n        }\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {width: 0}\n    }\n\n\n    componentDidMount() {\n        let { getPopularMovies, activePagePopular } = this.props\n        getPopularMovies(activePagePopular);\n    }\n\n    calculateLayout = width => {\n\n        this.setState({width: width})\n    }\n\n\n    render() {\n        let {moviesAreLoading, movies, totalMovies, activePagePopular} = this.props\n\n        const reducer = function(a, b) { return a.concat(b);}\n        const parsed = movies.reduce(reducer, []);\n        let pagination = {activePage: activePagePopular, onPageChange: this.onPageChange, totalPages: Math.floor(totalMovies / 20)}\n        return [\n            <ReactResizeDetector handleWidth onResize={this.calculateLayout}>\n                < ImageMeasurer width={this.state.width} key=\"ImageMeasurerPopular\" list={parsed} / >\n                </ReactResizeDetector>,\n            < PaginationControlled key=\"PaginationControlledPopular\" {...pagination} / >\n        ]\n    }\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        movies:state.movies.movies,\n        moviesAreLoading:state.movies.moviesAreLoading,\n        totalMovies:state.movies.totalMovies,\n        activePagePopular:state.movies.activePagePopular\n    }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getPopularMovies\n}, dispatch)\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PopularFilms));","import * as constants from '../constants';\n\nexport function remove(results) {\n  return {\n    type: constants.REMOVE_FROM_WATCHLIST,\n    payload: results\n  }\n}\n\nexport function add(results) {\n  return {\n    type: constants.ADD_TO_WATCHLIST,\n    payload: results\n  }\n}\n\nexport function removeFromWatchlist(results) {\n    return {\n      type: constants.REMOVE_FROM_WATCHLIST_FROM_WATCHLIST,\n      payload: results\n    }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { removeFromWatchlist } from './actions/watchlist';\nimport ImageMeasurer from \"./MasonryProvider\";\nimport { withRouter } from 'react-router-dom'\nimport ReactResizeDetector from 'react-resize-detector';\n\n\nclass Watchlist extends Component {\n\n    doWatchlist(movie) {\n\n        let { dispatch } = this.props;\n        return dispatch(removeFromWatchlist(movie));\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.state = {width: 0}\n    }\n\n    calculateLayout = width => {\n\n        this.setState({width: width})\n    }\n\n    render() {\n\n        let { watchlistMovies } = this.props;\n\n        let result = watchlistMovies.map((movie, index) => {\n            return index % 4 === 0 ? watchlistMovies.slice(index, index + 4) : null;\n        }).filter(movie => movie != null);\n\n\n        const reducer = function(a, b) { return a.concat(b);}\n        const parsed = result.reduce(reducer, []);\n\n        return (\n            <ReactResizeDetector handleWidth onResize={this.calculateLayout}>\n            < ImageMeasurer width={this.state.width} key=\"ImageMeasurerPopular\" list={parsed} / >\n            </ReactResizeDetector>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        watchlistMovies:state.movies.watchlistMovies\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(Watchlist));","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { getMovie } from './actions/movies';\nimport {Image, Header, Container, Label, Progress, Button} from 'semantic-ui-react'\nimport { add, remove } from './actions/watchlist';\n\nclass MovieDetail extends Component {\n\n    componentDidMount(){\n\n        let { getMovie } = this.props;\n\n        getMovie(parseInt(this.props.match.params.movieId, 10));\n\n    }\n\n    doWatchlist = () => {\n\n        let { movie, remove, add } = this.props;\n\n        let targetMovie;\n\n        if(movie.inWatchlist){\n            targetMovie = Object.assign({}, movie, {\n                inWatchlist: false\n            });\n\n        } else {\n            targetMovie = Object.assign({}, movie, {\n                inWatchlist: true\n            });\n        }\n\n        if (!targetMovie.inWatchlist){\n            return remove({'movie':targetMovie});\n        } else {\n            return add({'movie':targetMovie});\n        }\n\n    }\n\n    render() {\n\n        let {movieIsLoading, movieHasError, movie} = this.props\n        let poster = movie !== null && movie.poster !== null  ? 'https://image.tmdb.org/t/p/w500'+movie.poster : 'https://cdn.sstatic.net/Sites/stackoverflow/img/404.svg'\n        let title = movie !== null ? movie.title : ''\n        let overview = movie !== null ? movie.overview : ''\n        let genres = (movie !== null && movie.genres != null) ? movie.genres : []\n        let genresColors = ['yellow', \"olive\", \"green\", \"teal\", \"blue\", \"violet\", \"purple\",]\n        let rating = movie != null && movie != undefined ? movie.rating : 0\n        let rating100 = parseInt(parseFloat(rating) * 10.0)\n        let inWatchlist = movie != null ? movie.inWatchlist : false\n        return (\n            <div>\n                <Image style={{display: \"flex\", float: \"left\", paddingRight: \"30px\"}} src={poster} size='large' left  />\n                <div style={{ paddingLeft: \"30px\",}}>\n                <Header style={{display: \"block\", color: \"#008080\"}} as='h1'>{title}</Header>\n                <Container style={{display: \"block\", font: \"regular 120% serif\"}} text>\n                    {overview}\n                </Container>\n                    {genres.map((text, index) => <Label style={{marginRight: \"10px\"}} key={text} basic color={genresColors[index%genresColors.length]} pointing>{text}</Label>)}\n                    <div style = {{display: \"flex\", marginTop: \"20px\", justifyContent: \"space-between\",}}>\n                    <Progress style={{\"progress\": {backgroundColor: \"red\",}}}\n                        active\n                        indicating\n                        percent={100}\n                        size='small'\n                        color='olive'\n                        as='div'\n                        precision={rating100}\n                    />\n                    </div>\n\n                    <Button.Group style={{}}>\n                        <Button positive={inWatchlist} onClick={this.doWatchlist}>Watchlist</Button>\n                        <Button.Or />\n                        <Button positive={!inWatchlist} onClick={this.doWatchlist}>Untracked</Button>\n                    </Button.Group>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        movie:state.movies.movie,\n        movieIsLoading:state.movies.movieIsLoading,\n        movieHasError:state.movies.movieHasError\n    }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getMovie, add, remove\n}, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MovieDetail);","import React from 'react'\nimport { Route, Switch, Redirect } from 'react-router'\nimport LatestFilms from \"../LatestFilms\";\nimport PopularFilms from \"../PopularFilms\";\nimport Watchlist from \"../Watchlist\";\nimport MovieDetail from \"../MovieDetail\";\n\nconst routes = (\n    <div>\n        <Switch>\n            <Redirect exact from=\"/\" to=\"/latest/\"/>\n            <Route  path=\"/latest/\"  component={LatestFilms} />\n            <Route  path=\"/popular/\" component={PopularFilms} />\n            <Route  path=\"/watchlist/\" component={Watchlist} />\n            <Route  path='/movie/:movieId' component={MovieDetail}/>\n            <Route component={()=>(<div><h1>Data Not Found</h1></div>)} />\n        </Switch>\n    </div>\n)\n\nexport default routes","import React from 'react'\nimport {Dropdown, Icon, Menu, Segment} from 'semantic-ui-react'\nimport SearchStandard from './SearchFlow';\nimport './index.css'\nimport { doSearch } from './actions/movies';\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport {Grid} from 'semantic-ui-react'\nimport routes from './routes';\n\nimport { Route, Link, Redirect, Switch } from 'react-router-dom'\n\nclass MenuAttached extends React.Component {\n\n    render() {\n        let {pathname, searchIsLoading, search} = this.props;\n        return (\n            <Grid columns={16}>\n                <Grid.Column computer={2}/>\n                <Grid.Column computer={12}>\n            <div>\n                    < Menu attached = 'top' >\n                        < Dropdown item icon = 'wrench' simple >\n                            < Dropdown.Menu >\n                                <Link to=\"/latest/\">\n                                    < Dropdown.Item active={pathname === '/latest/'}> Latest < /Dropdown.Item>\n                                </Link>\n                                <Link to=\"/popular/\">\n                                    < Dropdown.Item active={pathname === '/popular/'}> Popular < /Dropdown.Item>\n                                </Link>\n                                <Link to=\"/watchlist/\">\n                                    < Dropdown.Item active={pathname === '/watchlist/'}> Watchlist < /Dropdown.Item>\n                                </Link>\n                            < /Dropdown.Menu>\n                        < /Dropdown>\n                    < Menu.Menu position = 'right' >\n                        {pathname.indexOf('/movie/') === -1 && < div className = 'ui right aligned category search item' >< SearchStandard / >< div className = 'results' / >< /div>}\n                                < /Menu.Menu>\n                                < /Menu>\n            < Segment key='seg' attached = 'bottom' >\n                <Grid columns={12}>\n                    <Grid.Row>\n                        <Grid.Column computer={1} />\n                            <Grid.Column computer={14}>\n                < div id=\"minContent\" >\n                    {routes}\n                    < /div>\n                            </Grid.Column>\n                    <Grid.Column computer={1} />\n                    </Grid.Row>\n                </Grid>\n            < /Segment>\n                </div>\n                </Grid.Column>\n                <Grid.Column computer={2}/>\n                </Grid>\n    )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        search:state.movies.search,\n        searchIsLoading:state.movies.searchIsLoading,\n        pathname: state.router.location.pathname,\n        watchlistMovies:state.movies.watchlistMovies\n    }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    doSearch,\n}, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuAttached);\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport './App.css';\nimport { ConnectedRouter } from 'connected-react-router'\nimport MenuAttached from './MenuFlow'\n\nconst App = ({ history }) => {\n    return (\n        <ConnectedRouter history={history}>\n            <MenuAttached/>\n        </ConnectedRouter>\n    )\n}\n\nApp.propTypes = {\n    history: PropTypes.object,\n}\n\nexport default App","import * as constants from '../constants';\n\nif(localStorage.getItem('watchlistMovies') === null){\n  localStorage.setItem('watchlistMovies', JSON.stringify([]));\n}\n\nconst initialState = {\n  moviesAreLoading: false,\n  movieIsLoading: false,\n  movieHasError:null,\n  movie:null,\n  activePagePopular: 1,\n  activePageLatest: 1,\n  totalMovies: 1,\n  movies:[],\n  searchIsLoading:false,\n  search:[],\n  watchlistMovies:JSON.parse(localStorage.getItem('watchlistMovies'))\n}\n  \nconst moviesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case constants.SET_POPULAR:{\n      return {\n        ...state,\n        moviesAreLoading: false,\n        activePagePopular: action.payload.activePagePopular,\n        totalMovies: action.payload.totalMovies,\n        movies: action.payload.movies\n      }\n    }\n    case constants.SET_LATEST:{\n      return {\n        ...state,\n        moviesAreLoading: false,\n        activePageLatest: action.payload.activePageLatest,\n        totalMovies: action.payload.totalMovies,\n        movies: action.payload.movies\n      }\n    }\n    case constants.SET_SEARCH:{\n      return {\n        ...state,\n        searchIsLoading: false,\n        search: action.payload\n      }\n    }\n    case constants.SET_MOVIE:{\n      return {\n        ...state,\n        movieIsLoading: false,\n        movieHasError: null,\n        movie: action.payload\n      }\n    }\n    case constants.MOVIES_ARE_LOADING:{\n      return {\n        ...state,\n        moviesAreLoading: true\n      }\n    }\n    case constants.SEARCH_IS_LOADING:{\n      return {\n        ...state,\n        searchIsLoading: true\n      }\n    }\n    case constants.CLEAR_SEARCH:{\n      return {\n        ...state,\n        searchIsLoading: false,\n        search:[]\n      }\n    }\n    case constants.MOVIE_IS_LOADING:{\n      return {\n        ...state,\n        movieIsLoading: true\n      }\n    }\n    case constants.MOVIE_HAS_ERROR:{\n      return {\n        ...state,\n        movieHasError: action.payload,\n        movieIsLoading: false\n      }\n    }\n    case constants.ADD_TO_WATCHLIST:{\n\n      let newList = [...state.watchlistMovies, action.payload.movie];\n\n      localStorage.setItem('watchlistMovies', JSON.stringify(newList));\n\n      return {\n        ...state,\n        movie: action.payload.movie,\n        watchlistMovies: newList\n      }\n    }\n    case constants.REMOVE_FROM_WATCHLIST:{\n\n      let newList = state.watchlistMovies.filter(movie => movie.id !== action.payload.movie.id);\n\n      localStorage.setItem('watchlistMovies', JSON.stringify(newList));\n\n      return {\n        ...state,\n        movie: action.payload.movie,\n        watchlistMovies: newList\n      }\n    }\n    case constants.REMOVE_FROM_WATCHLIST_FROM_WATCHLIST:{\n\n      let newList = state.watchlistMovies.filter(movie => movie !== action.payload);\n\n      localStorage.setItem('watchlistMovies', JSON.stringify(newList));\n\n      return {\n        ...state,\n        watchlistMovies: newList\n      }\n    }\n    default:\n      return state;\n  }\n}\n  \nexport default moviesReducer","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\nimport moviesReducer from './movies'\n\nconst rootReducer = (history) => combineReducers({\n  movies: moviesReducer,\n  router: connectRouter(history)\n})\n\nexport default rootReducer","import React from 'react';\nimport { AppContainer } from 'react-hot-loader'\nimport './semantic/dist/semantic.min.css';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport { applyMiddleware, compose, createStore } from 'redux'\nimport { createBrowserHistory } from 'history'\nimport { routerMiddleware } from 'connected-react-router'\nimport ReactDOM from 'react-dom'\nimport rootReducer from './reducers'\nimport thunkMiddleware from 'redux-thunk'\n\nconst history = createBrowserHistory({\n    basename: process.env.PUBLIC_URL,\n});\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nexport const store = createStore(\n    rootReducer(history),\n    composeEnhancer(\n        applyMiddleware(\n            thunkMiddleware,\n            routerMiddleware(history),\n        ),\n    ),\n)\n\nconst render = () => {\n    ReactDOM.render(\n        <AppContainer>\n            <Provider store={store}>\n                <App history={history} />\n            </Provider>\n        </AppContainer>,\n        document.getElementById('root')\n    )\n}\n\nrender()\n\nif (module.hot) {\n    module.hot.accept('./App', () => {\n        render()\n    })\n\n    module.hot.accept('./reducers', () => {\n        store.replaceReducer(rootReducer(history))\n    })\n}\n"],"sourceRoot":""}